# ============================================
# Django Configuration
# ============================================
DJ_SECRET=changeme-supersecret-key-generate-a-new-one
DJ_DEBUG=1
ALLOWED_HOSTS=localhost,127.0.0.1,pige.siraj-ai.com

# ============================================
# Database (PostgreSQL)
# ============================================
POSTGRES_DB=pige
POSTGRES_USER=pige
POSTGRES_PASSWORD=changeme-secure-password
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Pour développement local sans Docker, utilisez:
# POSTGRES_HOST=localhost

# ============================================
# Storage & Media
# ============================================
# Chemin où seront stockés les enregistrements
MEDIA_ROOT=/recordings

# Pour développement local:
# MEDIA_ROOT=/Users/votre-nom/pige-recordings

# ============================================
# Celery & Redis
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Pour développement local:
# CELERY_BROKER_URL=redis://localhost:6379/0

# ============================================
# MongoDB Configuration (GridFS pour stockage audio)
# ============================================
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGO_USER=pige
MONGO_PASSWORD=changeme-mongo-password
MONGO_DB=pige_audio
MONGO_AUTH_SOURCE=admin

# Pour développement local:
# MONGODB_HOST=localhost

# ============================================
# Email Notifications
# ============================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=notify@radio-occitania.com
EMAIL_PASS=changeme-app-password

# Email de destination pour les alertes
NOTIFY_EMAIL=ops@radio-occitania.com

# Pour Gmail, créez un "App Password" :
# https://myaccount.google.com/apppasswords

# ============================================
# FFmpeg
# ============================================
FFMPEG_PATH=/usr/bin/ffmpeg

# macOS (avec Homebrew):
# FFMPEG_PATH=/opt/homebrew/bin/ffmpeg

# Windows:
# FFMPEG_PATH=C:\ffmpeg\bin\ffmpeg.exe

# ============================================
# AI Models - Whisper (Transcription)
# ============================================
# Tailles disponibles: tiny, base, small, medium, large
# tiny = 39M (rapide mais moins précis)
# base = 74M (recommandé)
# small = 244M
# medium = 769M
# large = 1550M (très précis mais lent)
WHISPER_MODEL=base

# Device: cpu ou cuda (si GPU NVIDIA disponible)
WHISPER_DEVICE=cpu

# ============================================
# AI Models - Mistral (Résumé)
# ============================================
# Clé API Mistral (https://console.mistral.ai/)
MISTRAL_API_KEY=2kBqUz07GBxraybKwV3RyvdMxlhg1WdJ

# Modèle à utiliser (gratuit/payant)
# mistral-small-latest (recommandé)
# mistral-large-latest (plus puissant)
# open-mistral-7b (gratuit, open-source)
MISTRAL_MODEL=mistral-small-latest

# ============================================
# Recording Configuration
# ============================================
# Format par défaut: wav, mp3, flac
RECORDING_DEFAULT_FORMAT=wav

# Qualité par défaut: 192k, 256k, 320k
RECORDING_DEFAULT_QUALITY=192k

# Rétention par défaut (jours)
RECORDING_DEFAULT_RETENTION_DAYS=30

# ============================================
# Silence Detection
# ============================================
# Seuil de silence en dB (plus le nombre est élevé, plus c'est sensible)
SILENCE_DETECTION_THRESHOLD=-35dB

# Durée minimale de silence détecté (secondes)
SILENCE_DETECTION_DURATION=2.0

# Durée considérée comme suspecte (secondes)
SUSPICIOUS_SILENCE_DURATION=5.0

# ============================================
# CORS (pour frontend)
# ============================================
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================
# Logging
# ============================================
DJANGO_LOG_LEVEL=INFO

# DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================
# Security (PRODUCTION)
# ============================================
# En production, définissez ces variables:
# DJ_DEBUG=0
# ALLOWED_HOSTS=pige.siraj-ai.com
# DJ_SECRET=<générez une vraie clé avec: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())">
# CORS_ORIGINS=https://pige.siraj-ai.com

